import{b as H,o as L,c as E,a as u,p as $,h as D}from"./index-86d169af.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const q={mounted(){this.initCanvas()},methods:{bookRedirect(){H.push("/dedicated-book-for-you")},initCanvas(){if(this.$refs.canvas){let w=function(s,t,h){this.char=s,this.x=t,this.y=h,this.dx=-i.measureText(s).width/2,this.dy=+e.charSize/2,this.fireworkDy=this.y-l;var a=t/W.totalWidth*360;this.color="hsl(hue,80%,50%)".replace("hue",a),this.lightAlphaColor="hsla(hue,80%,light%,alp)".replace("hue",a),this.lightColor="hsl(hue,80%,light%)".replace("hue",a),this.alphaColor="hsla(hue,80%,50%,alp)".replace("hue",a),this.reset()},P=function(s,t,h,a,S){var r=e.fireworkShardBaseVel+e.fireworkShardAddedVel*Math.random();this.vx=h*r,this.vy=a*r,this.x=s,this.y=t,this.prevPoints=[[s,t]],this.color=S,this.alive=!0,this.size=e.fireworkShardBaseSize+e.fireworkShardAddedSize*Math.random()},C=function(s,t,h){i.moveTo(s,t),i.bezierCurveTo(s-h/2,t-h/2,s-h/4,t-h,s,t-h),i.bezierCurveTo(s+h/4,t-h,s+h/2,t-h/2,s,t)},b=function(){window.requestAnimationFrame(b),i.fillStyle="#111",i.fillRect(0,0,o,d),i.translate(c,l);for(var s=!0,t=0;t<f.length;++t)f[t].step(),f[t].phase!=="done"&&(s=!1);if(i.translate(-c,-l),s)for(var t=0;t<f.length;++t)f[t].reset()};const v=document.getElementById("c");var o=v.width=window.innerWidth-100,d=v.height=window.innerHeight-100,i=v.getContext("2d"),c=o/2,l=d/2,e={strings:["Feliz","Cumpleaños!","JARLIN"],charSize:40,charSpacing:35,lineHeight:40,cx:o/2,cy:d/2,fireworkPrevPoints:100,fireworkBaseLineWidth:5,fireworkAddedLineWidth:8,fireworkSpawnTime:500,fireworkBaseReachTime:50,fireworkAddedReachTime:50,fireworkCircleBaseSize:20,fireworkCircleAddedSize:10,fireworkCircleBaseTime:50,fireworkCircleAddedTime:50,fireworkCircleFadeBaseTime:20,fireworkCircleFadeAddedTime:10,fireworkBaseShards:5,fireworkAddedShards:5,fireworkShardPrevPoints:3,fireworkShardBaseVel:4,fireworkShardAddedVel:2,fireworkShardBaseSize:3,fireworkShardAddedSize:3,gravity:.1,upFlow:-.1,letterContemplatingWaitTime:1e3,balloonSpawnTime:25,balloonBaseInflateTime:800,balloonAddedInflateTime:1200,balloonBaseSize:40,balloonAddedSize:40,balloonBaseVel:.1,balloonAddedVel:.1,balloonBaseRadian:-(Math.PI/2-.5),balloonAddedRadian:-1},W={totalWidth:e.charSpacing*Math.max(e.strings[0].length,e.strings[1].length)},k=Math.PI*2,I=k/4,f=[];i.font=e.charSize+"px Verdana",w.prototype.reset=function(){this.phase="firework",this.tick=0,this.spawned=!1,this.spawningTime=e.fireworkSpawnTime*Math.random()|0,this.reachTime=e.fireworkBaseReachTime+e.fireworkAddedReachTime*Math.random()|0,this.lineWidth=e.fireworkBaseLineWidth+e.fireworkAddedLineWidth*Math.random(),this.prevPoints=[[0,l,0]]},w.prototype.step=function(){if(this.phase==="firework")if(!this.spawned)++this.tick,this.tick>=this.spawningTime&&(this.tick=0,this.spawned=!0);else{++this.tick;var s=this.tick/this.reachTime,t=Math.sin(s*I),h=s*this.x,a=l+t*this.fireworkDy;this.prevPoints.length>e.fireworkPrevPoints&&this.prevPoints.shift(),this.prevPoints.push([h,a,s*this.lineWidth]);for(var S=1/(this.prevPoints.length-1),r=1;r<this.prevPoints.length;++r){var y=this.prevPoints[r],B=this.prevPoints[r-1];i.strokeStyle=this.alphaColor.replace("alp",r/this.prevPoints.length),i.lineWidth=y[2]*S*r,i.beginPath(),i.moveTo(y[0],y[1]),i.lineTo(B[0],B[1]),i.stroke()}if(this.tick>=this.reachTime){this.phase="contemplate",this.circleFinalSize=e.fireworkCircleBaseSize+e.fireworkCircleAddedSize*Math.random(),this.circleCompleteTime=e.fireworkCircleBaseTime+e.fireworkCircleAddedTime*Math.random()|0,this.circleCreating=!0,this.circleFading=!1,this.circleFadeTime=e.fireworkCircleFadeBaseTime+e.fireworkCircleFadeAddedTime*Math.random()|0,this.tick=0,this.tick2=0,this.shards=[];for(var A=e.fireworkBaseShards+e.fireworkAddedShards*Math.random()|0,_=k/A,M=Math.cos(_),z=Math.sin(_),h=1,a=0,r=0;r<A;++r){var V=h;h=h*M-a*z,a=a*M+V*z,this.shards.push(new P(this.x,this.y,h,a,this.alphaColor))}}}else if(this.phase==="contemplate"){if(++this.tick,this.circleCreating){++this.tick2;var n=this.tick2/this.circleCompleteTime,T=-Math.cos(n*Math.PI)/2+.5;i.beginPath(),i.fillStyle=this.lightAlphaColor.replace("light",50+50*n).replace("alp",n),i.beginPath(),i.arc(this.x,this.y,T*this.circleFinalSize,0,k),i.fill(),this.tick2>this.circleCompleteTime&&(this.tick2=0,this.circleCreating=!1,this.circleFading=!0)}else if(this.circleFading){i.fillStyle=this.lightColor.replace("light",70),i.fillText(this.char,this.x+this.dx,this.y+this.dy),++this.tick2;var n=this.tick2/this.circleFadeTime,T=-Math.cos(n*Math.PI)/2+.5;i.beginPath(),i.fillStyle=this.lightAlphaColor.replace("light",100).replace("alp",1-T),i.arc(this.x,this.y,this.circleFinalSize,0,k),i.fill(),this.tick2>=this.circleFadeTime&&(this.circleFading=!1)}else i.fillStyle=this.lightColor.replace("light",70),i.fillText(this.char,this.x+this.dx,this.y+this.dy);for(var r=0;r<this.shards.length;++r)this.shards[r].step(),this.shards[r].alive||(this.shards.splice(r,1),--r);if(this.tick>e.letterContemplatingWaitTime){this.phase="balloon",this.tick=0,this.spawning=!0,this.spawnTime=e.balloonSpawnTime*Math.random()|0,this.inflating=!1,this.inflateTime=e.balloonBaseInflateTime+e.balloonAddedInflateTime*Math.random()|0,this.size=e.balloonBaseSize+e.balloonAddedSize*Math.random()|0;var F=e.balloonBaseRadian+e.balloonAddedRadian*Math.random(),R=e.balloonBaseVel+e.balloonAddedVel*Math.random();this.vx=Math.cos(F)*R,this.vy=Math.sin(F)*R}}else if(this.phase==="balloon")if(i.strokeStyle=this.lightColor.replace("light",80),this.spawning)++this.tick,i.fillStyle=this.lightColor.replace("light",70),i.fillText(this.char,this.x+this.dx,this.y+this.dy),this.tick>=this.spawnTime&&(this.tick=0,this.spawning=!1,this.inflating=!0);else if(this.inflating){++this.tick;var n=this.tick/this.inflateTime,h=this.cx=this.x,a=this.cy=this.y-this.size*n;i.fillStyle=this.alphaColor.replace("alp",n),i.beginPath(),C(h,a,this.size*n),i.fill(),i.beginPath(),i.moveTo(h,a),i.lineTo(h,this.y),i.stroke(),i.fillStyle=this.lightColor.replace("light",70),i.fillText(this.char,this.x+this.dx,this.y+this.dy),this.tick>=this.inflateTime&&(this.tick=0,this.inflating=!1)}else this.cx+=this.vx,this.cy+=this.vy+=e.upFlow,i.fillStyle=this.color,i.beginPath(),C(this.cx,this.cy,this.size),i.fill(),i.beginPath(),i.moveTo(this.cx,this.cy),i.lineTo(this.cx,this.cy+this.size),i.stroke(),i.fillStyle=this.lightColor.replace("light",70),i.fillText(this.char,this.cx+this.dx,this.cy+this.dy+this.size),(this.cy+this.size<-l||this.cx<-c||this.cy>c)&&(this.phase="done")},P.prototype.step=function(){this.x+=this.vx,this.y+=this.vy+=e.gravity,this.prevPoints.length>e.fireworkShardPrevPoints&&this.prevPoints.shift(),this.prevPoints.push([this.x,this.y]);for(var s=this.size/this.prevPoints.length,t=0;t<this.prevPoints.length-1;++t){var h=this.prevPoints[t],a=this.prevPoints[t+1];i.strokeStyle=this.color.replace("alp",t/this.prevPoints.length),i.lineWidth=t*s,i.beginPath(),i.moveTo(h[0],h[1]),i.lineTo(a[0],a[1]),i.stroke()}this.prevPoints[0][1]>l&&(this.alive=!1)};for(var g=0;g<e.strings.length;++g)for(var p=0;p<e.strings[g].length;++p)f.push(new w(e.strings[g][p],p*e.charSpacing+e.charSpacing/2-e.strings[g].length*e.charSize/2,g*e.lineHeight+e.lineHeight/2-e.strings.length*e.lineHeight/2));b(),window.addEventListener("resize",function(){o=v.width=window.innerWidth,d=v.height=window.innerHeight,c=o/2,l=d/2,i.font=e.charSize+"px Verdana"})}}}},J=m=>($("data-v-56063146"),m=m(),D(),m),O={class:"wrapper-canvas"},G={ref:"canvas",id:"c"},K=J(()=>u("span",{class:"sp"},"Ver más ¡SORPRESAS!",-1)),Q=[K];function U(m,o,d,i,c,l){return L(),E("div",O,[u("canvas",G,null,512),u("button",{"data-label":"Register",class:"rainbow-hover",onClick:o[0]||(o[0]=(...e)=>l.bookRedirect&&l.bookRedirect(...e))},Q)])}const Z=N(q,[["render",U],["__scopeId","data-v-56063146"]]);export{Z as default};
